(this["webpackJsonpzadatak-weather-app"]=this["webpackJsonpzadatak-weather-app"]||[]).push([[0],{25:function(e,a,t){e.exports=t(53)},52:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(2),c=t.n(n),s=t(24),r=t(3),o=t(10),i=t(4),l=t(5),d=t(7),m=t(6),u=t(8),p=t(0),h=t.n(p),v=t(9),f=t.n(v),b=[{name:"Belgrade",image:"https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/Q7QA-bg.jpg"},{name:"Novi Sad",image:"https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/TIRH-ns.jpg"}],E="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/xb6a-cloud.svg",y="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/sq-o-cloudy.svg",N="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/4aoT-rain.svg",g="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/aODy-snowing.svg",w="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/zWvz-storn.svg",x="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/0cip-sun.svg",k="https://uploads.codesandbox.io/uploads/user/1e54e5e8-919a-492b-b649-7773dcf409ea/AXnT-refresh.svg",O=function(e){var a=e||{},t=a.code,n=a.description;return{src:t>=200&&t<300?w:t>=300&&t<600?N:t>=600&&t<700||900===t?g:t>=700&&t<800||802===t?y:800===t||801===t?x:E,description:n}},j=function(e){var a=Math.floor((Date.now()-e)/6e4),t=Math.floor(a/60);return t>1?t+" hours":a+" minutes"},C=function(e){return h.a.createElement("svg",Object.assign({width:500,height:500},e),h.a.createElement("path",{d:"M0 329.227c62.942-30.873 113.921-34.434 152.938-10.683 58.524 35.626 90.4 54.667 136.495 61.792 46.094 7.126 129.056-22.81 156.126-19.888 18.047 1.948 36.194 6.46 54.441 13.537V500H0V329.227z",className:"shape",fill:"#FFF",opacity:.2}),h.a.createElement("path",{d:"M0 386.78c41.094-12.664 68.782-16.407 83.064-11.231 21.423 7.764 32.074 15.816 67.59 11.23 35.517-4.585 88.176-74.02 152.284-74.02 64.109 0 66.209 34.567 117.873 34.567 34.443 0 60.84-9.6 79.189-28.798V500H0V386.78z",className:"shape",fill:"#FFF",opacity:.4}),h.a.createElement("path",{d:"M0 386.78c41.094-12.664 68.782-16.407 83.064-11.231 21.423 7.764 32.074 15.816 67.59 11.23 35.517-4.585 88.176-74.02 152.284-74.02 64.109 0 66.209 34.567 117.873 34.567 34.443 0 60.84-9.6 79.189-28.798",className:"line",stroke:"#FFF",strokeWidth:3}))},U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={updatedAgo:j(t.props.lastUpdated)},t.refreshData=Object(r.a)(c.a.mark((function e(){var a,n,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.currentCity,s=a.lastUpdated,r=a.fetchWeather,e.next=3,r(n);case 3:t.setState({updatedAgo:j(s)});case 4:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.lastUpdated;this.timer=setInterval((function(){e.setState({updatedAgo:j(a)})}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,a=e.today,t=e.lastUpdated,n=O(a.weather),c=n.src,s=n.description;return h.a.createElement("div",{className:"basic"},h.a.createElement("div",{className:"box current"},h.a.createElement("span",{className:"value"},Math.round(a.temp),"\xb0"),h.a.createElement("span",{className:"description"},s)),h.a.createElement("div",{className:"box"},h.a.createElement("div",{className:"icon"},h.a.createElement("img",{src:c,alt:s}))),h.a.createElement("div",{className:"animate-graph"},h.a.createElement(C,{viewBox:"0 240 500 500",preserveAspectRatio:"none"})),h.a.createElement("div",{className:"refresh description",onClick:this.refreshData},h.a.createElement("img",{src:k,width:18,alt:s}),"Updated ",h.a.createElement("span",{className:"value"},j(t))," ago"))}}]),a}(p.Component),D=function(e){var a=e.today,t=a.rh,n=a.dewpt,c=a.uv,s=a.vis;return h.a.createElement("div",{className:"details"},h.a.createElement("div",{className:"box"},h.a.createElement("span",{className:"value"},t,"%"),h.a.createElement("span",{className:"description"},"Humidity")),h.a.createElement("div",{className:"box"},h.a.createElement("span",{className:"value"},n,"\xb0"),h.a.createElement("span",{className:"description"},"Dew Pt.")),h.a.createElement("div",{className:"box"},h.a.createElement("span",{className:"value"},Math.round(c),"/10"),h.a.createElement("span",{className:"description"},"UV Index")),h.a.createElement("div",{className:"box"},h.a.createElement("span",{className:"value"},s&&s.toFixed(1)," km"),h.a.createElement("span",{className:"description"},"Visibility")))},F=["SUN","MON","TUE","WED","THU","FRI","SAT"],M=["January","February","March","April","May","June","July","August","September","October","November","December"],A=function(e){var a=e.cities,t=e.currentCity,n=e.forecast,c=e.today,s=e.onFetchWeather,r=n.map((function(e){var a=O(e.weather),t=a.src,n=a.description,c=F[new Date(e.datetime).getDay()];return h.a.createElement("div",{className:"forecast"},h.a.createElement("div",{className:"center"},h.a.createElement("span",{className:"value"},e.temp,"\xb0")),h.a.createElement("div",{className:"edge"},h.a.createElement("img",{className:"icon",src:t,alt:n}),c))})),o=M[new Date(c.ob_time).getMonth()],i=c.ob_time&&c.ob_time.slice(8,10),l={backgroundImage:"url(".concat(t.image,")")};return h.a.createElement("div",{key:t.image,className:"forecast-container"},h.a.createElement("div",{className:"forecast-bg",style:l}),h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"location"},h.a.createElement("div",{className:"dropdown"},a.map((function(e){return h.a.createElement("h2",{className:"city",onClick:function(){return s(e)}},e.name)}))),h.a.createElement("i",{className:"arrow"})),h.a.createElement("p",{className:"date"},i," ",o)),h.a.createElement("div",{className:"forecast-table"},h.a.createElement("div",{className:"forecast-bg-blur",style:l}),r))},W="32843ca13f7643a0a3b844866635faf1",I="https://api.weatherbit.io/v2.0/forecast/daily?key=".concat(W,"&days=7&city="),S="https://api.weatherbit.io/v2.0/current?key=".concat(W,"&city="),z=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={cities:Object(o.a)(b),currentCity:b[0],forecast:[],today:{},lastUpdated:Date.now()},t.fetchWeather=function(){var e=Object(r.a)(c.a.mark((function e(a){var n,r,i,l,d,m,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=n.cities,i=n.currentCity,l=Object(o.a)(r),a.name!==i.name&&l.reverse(),e.prev=3,e.next=6,Promise.all([f.a.get("".concat(I).concat(encodeURI(a.name),",rs")),f.a.get("".concat(S).concat(encodeURI(a.name),",rs"))]);case 6:d=e.sent,m=Object(s.a)(d,2),u=m[0],p=m[1],t.setState({cities:l,currentCity:a,forecast:u.data.data,today:p.data.data[0],lastUpdated:Date.now()}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.currentCity;this.fetchWeather(e)}},{key:"render",value:function(){var e=this.state,a=e.cities,t=e.currentCity,n=e.today,c=e.forecast,s=e.lastUpdated;return h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"info"},h.a.createElement(U,{today:n,lastUpdated:s,currentCity:t,fetchWeather:this.fetchWeather}),h.a.createElement(D,{today:n})),h.a.createElement(A,{cities:a,currentCity:t,today:n,forecast:c,onFetchWeather:this.fetchWeather}))}}]),a}(p.Component),T=t(23),V=t.n(T),H=(t(52),0),J=0,R=document.querySelector.bind(document),X=document.createElement("div");X.setAttribute("id","cursor"),R("body").appendChild(X),document.onmousemove=function(e){X.style.top=e.pageY-H+"px",X.style.left=e.pageX-J+"px"},document.onscroll=function(e){H=window.pageYOffset,J=window.pageXOffset},document.addEventListener("click",(function(e){var a=document.createElement("div");a.className="clickEffect",a.style.top=e.clientY+"px",a.style.left=e.clientX+"px",document.body.appendChild(a),a.addEventListener("animationend",(function(){a.parentElement.removeChild(a)}))}));var B=document.getElementById("root");V.a.render(h.a.createElement(z,null),B)}},[[25,1,2]]]);
//# sourceMappingURL=main.a54285df.chunk.js.map